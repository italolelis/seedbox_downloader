---
phase: 09-log-level-consistency
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - internal/dc/deluge/client.go
autonomous: true

must_haves:
  truths:
    - "Deluge authentication success logs at INFO level"
    - "Deluge authentication matches Put.io level (both INFO)"
    - "Lifecycle events (authentication) are consistently INFO across all clients"
  artifacts:
    - path: "internal/dc/deluge/client.go"
      provides: "Consistent authentication logging at INFO"
      contains: "InfoContext.*authenticated with deluge"
  key_links:
    - from: "internal/dc/deluge/client.go"
      to: "internal/dc/putio/client.go"
      via: "authentication pattern consistency"
      pattern: "InfoContext.*authenticated"
---

<objective>
Ensure consistent log levels for authentication across download clients.

Purpose: Fix inconsistency where Deluge logs "authenticated" at DEBUG while Put.io logs it at INFO. Authentication is a lifecycle event and should be INFO across all clients for operational visibility.

Output: Modified deluge/client.go with authentication success at INFO level
</objective>

<execution_context>
@/Users/italovietro/.claude/get-shit-done/workflows/execute-plan.md
@/Users/italovietro/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-log-level-consistency/09-RESEARCH.md
@internal/dc/deluge/client.go
@internal/dc/putio/client.go
</context>

<tasks>

<task type="auto">
  <name>Task 1: Change Deluge authentication success to INFO level</name>
  <files>internal/dc/deluge/client.go</files>
  <action>
In Authenticate method (around line 147):

Change from:
```go
logger.DebugContext(ctx, "authenticated with deluge")
```

To:
```go
logger.InfoContext(ctx, "authenticated with deluge", "username", c.Username)
```

This makes Deluge authentication logging consistent with Put.io (line 144 in putio/client.go):
```go
logger.InfoContext(ctx, "authenticated with Put.io", "user", user.Username)
```

Note: Line 93 already has "authenticating with deluge" at INFO - this is intentional:
- "authenticating with deluge" (INFO) - starting the auth process
- "authenticated with deluge" (INFO) - auth completed successfully

Both lifecycle events should be visible at INFO for operators to see the full startup sequence.

Preserve all other existing logic and logging statements unchanged.
  </action>
  <verify>
Run `go build ./...` to verify compilation.
Run `grep -n "InfoContext.*authenticated with deluge" internal/dc/deluge/client.go` to confirm INFO level.
Run `grep -n "InfoContext.*authenticated" internal/dc/putio/client.go internal/dc/deluge/client.go` to confirm consistency.
  </verify>
  <done>
Deluge authentication success logs "authenticated with deluge" at INFO level.
Deluge and Put.io both log authentication success at INFO level.
Log message includes username for traceability.
  </done>
</task>

</tasks>

<verification>
After task completes:

1. Build verification:
   ```bash
   go build ./...
   ```

2. Consistency verification:
   ```bash
   # Both clients should show authentication at INFO
   grep -n "InfoContext.*authenticated" internal/dc/deluge/client.go internal/dc/putio/client.go
   ```

3. Test suite:
   ```bash
   go test ./internal/dc/...
   ```
</verification>

<success_criteria>
- [ ] Deluge "authenticated" logs at INFO level
- [ ] Deluge and Put.io authentication logging is consistent (both INFO)
- [ ] Username included in log message for traceability
- [ ] All tests pass
- [ ] Code compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/09-log-level-consistency/09-02-SUMMARY.md`
</output>
